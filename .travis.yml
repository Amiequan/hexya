language: go
go:
 - 1.5.1
 - 1.6
 - 1.7
 - tip

addons:
  postgresql: "9.4"

services:
  - postgresql

before_install:
  - go get -t github.com/npiganeau/yep/cmd/yep-generate
  - go install github.com/npiganeau/yep/cmd/yep-generate
  - yep-generate

before_script:
  - psql -c 'create database yep_test;' -U postgres

env:
- YEP_DB_DRIVER=postgres YEP_DB_SOURCE="dbname=yep_test sslmode=disable user=postgres"
